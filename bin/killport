#!/bin/sh
#
# NAME
#     killport -

set -e

if
    test -z "${1}"
then
  echo "Usage: ${0} <port>"
  exit 1
fi

_pids="$(sudo lsof -t -i :"${1}")"

if
    test -z "${_pids}"
then
  printf "%s\n" "No process found on port ${1}." 1>&2
  exit 0
fi

printf "%s\n" "Killing process(es) on port ${1}: ${_pids}"

sudo kill -9 ${_pids}
